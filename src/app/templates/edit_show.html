<!-- Include base_template.html template -->
{% extends 'base_template.html' %}
{% block head %}
{{ super() }}
{% endblock %}

{% block content %}
<h2 class="pt-2">Edit show</h1>

  <form action="" method="POST" novalidate>
    <table class="table" hidden="">
      <tr>
        <td>Show ID</td>
        <td>{{ show.id }}</td>
      </tr>
      <tr>
        <td>Show Name</td>
        <td>{{ show.name }}</td>
      </tr>
      <tr>
        <td>Show Date</td>
        <td>{{ show.event_date }}</td>
      </tr>
      <tr>
        <td>Venue</td>
        <td>
          {% if show.venue %}
          {{ show.venue.name }}, {{ show.venue.address.city }}, {{ show.venue.address.country }}
          {% endif %}
        </td>
      </tr>
      <tr>
        <td>Comments</td>
        <td>{{ show.comments }}</td>
      </tr>
      <tr></tr>
    </table>

    {{ show_form.hidden_tag() }}
    <p>
      {{ show_form.name.label }}<br />
      {{ show_form.name(class="form-control") }}
    </p>
    <p>
      {{ show_form.event_date.label }}<br />
      {{ show_form.event_date(class="form-select") }}
    </p>
    <p>
      {{ show_form.venue.label }}<br />
      {{ show_form.venue(class="form-select") }}
    </p>
    <p>
      {{ show_form.comments.label }}<br />
      {{ show_form.comments(class="form-control") }}
    </p>

    <div class="container">
      <table class="table table-striped table-light table-responsive border-1">
        <tr>
          <th>Artist</th>
          <th>Setlist</th>
          <th>Comments</th>
          <th>Image</th>
          <th>Video</th>
        </tr>

        {% for concert in show.concerts %}
        <tr>
          <td>{{ concert.artist.name }}</td>
          <td>{{ concert.setlist }}</td>
          <td>{{ concert.comments }}</td>
          <td>{{ concert.photos }}</td>
          <td>{{ concert.videos }}</td>
        </tr>
        {% endfor %}
      </table>
    </div>

    <p>{{ show_form.submit() }}</p>
  </form>
  </div>
  {% endblock %}